subprojects {
  apply plugin: 'java'

  sourceCompatibility = 1.7
  version = '4.5.3'
  compileJava.options.encoding = 'UTF-8'

  repositories {
    mavenLocal()
    mavenCentral()
    maven {
      url "https://artifacts.unidata.ucar.edu/content/repositories/unidata"
    }
    maven {
      url "https://artifacts.unidata.ucar.edu/content/repositories/unidata-3rdparty/"
    }
  }

  ext {
    jfreechartVersion = "1.0.14"
    junitVersion = "4.11"
    log4jVersion = "2.0-rc1"
    servletVersion = "3.0.1"
    slf4jVersion = "1.7.5"
    springVersion = "3.2.3.RELEASE"
  }

  buildscript {
      repositories {
          jcenter()
      }
      dependencies {
          classpath 'com.github.jengelman.gradle.plugins:shadow:0.8'
      }
  }

  jar {
    manifest {
      attributes 'Implementation-Version': version,
              'Implementation-Vendor': 'UCAR/Unidata',
              'Implementation-Vendor-Id': 'edu.ucar',
              'Built-On': new Date(),
              'Build-Jdk': System.properties['java.version'],
              'Codebase': 'http://www.unidata.ucar.edu/software/thredds/',
              'Permissions': 'all-permissions',
              'Trusted-Only': 'true'
    }
  }

  dependencies {
    // testCompile project(':cdm').sourceSets.test.classes
    testCompile group: 'junit', name: 'junit', version: junitVersion
  }
}

task wrapper(type: Wrapper) {
    gradleVersion = '2.1'
}
